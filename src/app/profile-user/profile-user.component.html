<div class="edit-profile-container">
    <div class="edit-profile-header">
        <h4>Edit Profile</h4>
        <button mat-icon-button class="close-button" (click)="closeForm()" aria-label="Close">
            <mat-icon>close</mat-icon>
        </button>
    </div>

    <form [formGroup]="editProfileForm">
        <div class="profile-picture-section">
            <div class="profile-picture-wrapper">
                <img class="profile-picture" width="150px" height="150px" [src]="imageUrl || '../../assets/images/User-avatar.svg.png'"
                    alt="Profile Picture" />
                <button mat-icon-button class="edit-picture-button" (click)="triggerFileInput()">
                    <mat-icon>edit</mat-icon>
                </button>
                <input #fileInput type="file" accept="image/*" class="file-input" (change)="onImageSelected($event)"
                    hidden />
            </div>
            <p class="upload-instructions">Click the icon to change your profile picture.</p>
        </div>

        <mat-form-field appearance="outline" class="form-field">
            <mat-label>Name</mat-label>
            <input matInput formControlName="name" type="text" placeholder="Enter your full name" />
            <!-- <mat-error *ngIf="editProfileForm.get('name').invalid && editProfileForm.get('name').touched">
                Name is required.
            </mat-error> -->
        </mat-form-field>

        <mat-form-field appearance="outline" class="form-field">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" placeholder="Enter your email" />
            <!-- <mat-error *ngIf="editProfileForm.get('email').invalid && editProfileForm.get('email').touched">
                Please enter a valid email address.
            </mat-error> -->
        </mat-form-field>

        <div class="gender-section">
            <label class="section-label">Gender</label>
            <mat-radio-group formControlName="gender" class="gender-radio-group">
                <mat-radio-button value="MALE">Male</mat-radio-button>
                <mat-radio-button value="FEMALE">Female</mat-radio-button>
            </mat-radio-group>
        </div>

        <div class="action-buttons">
            <button mat-raised-button (click)="updateUser()" color="primary" type="submit">
                Save Changes
            </button>
            <button mat-button color="warn" type="button" (click)="closeForm()">
                Cancel
            </button>
        </div>
    </form>
</div>